(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{127:function(t,e,r){},154:function(t,e,r){},156:function(t,e,r){"use strict";r.r(e);var a={};r.r(a),r.d(a,"handleServerNetworkError",(function(){return K})),r.d(a,"handleServerAppError",(function(){return N}));var n,s=r(0),i=r.n(s),c=r(37),o=r.n(c),u=(r(127),function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,227)).then((function(e){var r=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,i=e.getTTFB;r(t),a(t),n(t),s(t),i(t)}))}),l=r(205),d=r(223),p=r(224),f=r(225),b=r(216),j=r(220),h=r(221),O=r(226),x=r(214),v=r(33),m=r(18),g=r.n(m),k=r(30),y=r(70),S=r.n(y),I=S.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"b42e249f-81b0-486e-a39f-c56668ce792c"}}),w=function(t){return I.post("/auth/login",t)},C=function(){return I.get("/auth/me")},A=function(){return I.delete("/auth/login")},T=Object(k.c)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{setAppStatus:function(t,e){t.status=e.payload.status},setAppError:function(t,e){t.error=e.payload.error},setAppInitialized:function(t,e){t.isInitialized=e.payload.isInitialized}}}),E=T.reducer,D=T.actions;!function(t){t[t.OK=0]="OK",t[t.ERROR=10]="ERROR"}(n||(n={}));var R,L,K=function(t,e){var r=e;S.a.isAxiosError(r)?t(D.setAppError({error:r.message?r.message:"SOME ERROR OCCURRED"})):t(D.setAppError({error:"Native error: ".concat(r.message)})),t(D.setAppStatus({status:"failed"}))},N=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r&&t(D.setAppError({error:e.messages?e.messages[0]:"SOME ERROR OCCURRED"})),t(D.setAppStatus({status:"failed"}))},F=k.b.withTypes(),W=F("auth/login",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(D.setAppStatus({status:"loading"})),t.next=5,w(e);case 5:if((c=t.sent).data.resultCode!==n.OK){t.next=11;break}return s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",{isLoggedIn:!0});case 11:return o=!c.data.fieldsErrors.length,a.handleServerAppError(s,c.data,o),t.abrupt("return",i(c.data));case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 20:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,r){return t.apply(this,arguments)}}()),M=Object(k.b)("auth/logout",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(D.setAppStatus({status:"loading"})),t.next=5,A();case 5:if((c=t.sent).data.resultCode!==n.OK){t.next=12;break}return s(H.clearStateData()),s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",{isLoggedIn:!1});case 12:return a.handleServerAppError(s,c.data),t.abrupt("return",i(null));case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 20:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,r){return t.apply(this,arguments)}}()),z=Object(k.b)("app/initialize",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(D.setAppStatus({status:"loading"})),t.next=5,C();case 5:if(t.sent.data.resultCode!==n.OK){t.next=10;break}return t.abrupt("return",{isLoggedIn:!0});case 10:return t.abrupt("return",i(null));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 17:return t.prev=17,s(D.setAppInitialized({isInitialized:!0})),s(D.setAppStatus({status:"succeeded"})),t.finish(17);case 21:case"end":return t.stop()}}),t,null,[[1,13,17,21]])})));return function(e,r){return t.apply(this,arguments)}}()),V={isLoggedIn:!1},P=Object(k.c)({name:"auth",initialState:V,reducers:{clearStateData:function(){return V}},extraReducers:function(t){t.addCase(W.fulfilled,(function(t,e){t.isLoggedIn=e.payload.isLoggedIn})),t.addCase(M.fulfilled,(function(t,e){t.isLoggedIn=e.payload.isLoggedIn})),t.addCase(z.fulfilled,(function(t,e){t.isLoggedIn=e.payload.isLoggedIn}))}}),U=P.reducer,H=P.actions,B={login:W,logout:M,initializeApp:z},Z=r(17),J=function(t){return I.get("/todo-lists/".concat(t,"/tasks"))},_=function(t){return I.post("/todo-lists/".concat(t.todolistId,"/tasks"),{title:t.title})},q=function(t){return I.delete("/todo-lists/".concat(t.todolistID,"/tasks/").concat(t.taskID))},G=function(t,e,r){return I.put("/todo-lists/".concat(t,"/tasks/").concat(e),r)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(R||(R={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(L||(L={}));var Y=function(){return I.get("/todo-lists/")},$=function(t){return I.post("/todo-lists/",{title:t})},Q=function(t){return I.delete("/todo-lists/".concat(t))},X=function(t){return I.put("/todo-lists/".concat(t.id),{title:t.title})},tt=F("TODOS/FETCH",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var n,s,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.dispatch,s=r.rejectWithValue,t.prev=1,n(D.setAppStatus({status:"loading"})),t.next=5,Y();case 5:return(i=t.sent).data.forEach((function(t){n(Ot.fetchTasks(t.id))})),n(D.setAppStatus({status:"succeeded"})),t.abrupt("return",{todolists:i.data});case 11:return t.prev=11,t.t0=t.catch(1),a.handleServerNetworkError(n,t.t0),t.abrupt("return",s(null));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()),et=F("TODOS/removeTodolist",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(ct.changeTodolistEntityStatus({id:e,entityStatus:"loading"})),s(D.setAppStatus({status:"loading"})),t.next=6,Q(e);case 6:if((c=t.sent).data.resultCode!==n.OK){t.next=12;break}return s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",{id:e});case 12:return a.handleServerAppError(s,c.data),t.abrupt("return",i(null));case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 20:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,r){return t.apply(this,arguments)}}()),rt=F("TODOS/createTodolist",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(D.setAppStatus({status:"loading"})),t.next=5,$(e);case 5:if((c=t.sent).data.resultCode!==n.OK){t.next=11;break}return s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",{todolist:c.data.data.item});case 11:return a.handleServerAppError(s,c.data),t.abrupt("return",i(null));case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()),at=F("TODOS/updateTodolistTitle",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(D.setAppStatus({status:"loading"})),t.next=5,X(e);case 5:if((c=t.sent).data.resultCode!==n.OK){t.next=11;break}return s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",e);case 11:return a.handleServerAppError(s,c.data),t.abrupt("return",i(null));case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()),nt=[],st=Object(k.c)({name:"TODOLIST",initialState:nt,reducers:{changeTodolistFilter:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].filter=e.payload.filter},changeTodolistEntityStatus:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].entityStatus=e.payload.entityStatus}},extraReducers:function(t){return t.addCase(tt.fulfilled,(function(t,e){return e.payload.todolists.map((function(t){return Object(Z.a)(Object(Z.a)({},t),{},{filter:"all",entityStatus:"idle"})}))})).addCase(et.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));-1!==r&&t.splice(r,1)})).addCase(rt.fulfilled,(function(t,e){t.unshift(Object(Z.a)(Object(Z.a)({},e.payload.todolist),{},{filter:"all",entityStatus:"idle"}))})).addCase(at.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].title=e.payload.title})).addCase(H.clearStateData,(function(){return nt}))}}),it=st.reducer,ct=st.actions,ot={fetchTodolists:tt,removeTodolist:et,createTodolist:rt,updateTodolistTitle:at},ut=F("TASK/fetchTasks",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var n,s,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.dispatch,s=r.rejectWithValue,t.prev=1,n(D.setAppStatus({status:"loading"})),t.next=5,J(e);case 5:return i=t.sent,n(D.setAppStatus({status:"succeeded"})),t.abrupt("return",{todolistID:e,tasks:i.data.items});case 10:return t.prev=10,t.t0=t.catch(1),a.handleServerNetworkError(n,t.t0),t.abrupt("return",s(null));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()),lt=F("TASK/addTask",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(D.setAppStatus({status:"loading"})),t.next=5,_(e);case 5:if((c=t.sent).data.resultCode!==n.OK){t.next=11;break}return s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",{task:c.data.data.item});case 11:return a.handleServerAppError(s,c.data),t.abrupt("return",i(null));case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()),dt=F("TASK/updateTask",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c,o,u,l,d,p;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.dispatch,i=r.rejectWithValue,c=r.getState,t.prev=1,s(D.setAppStatus({status:"loading"})),o=c(),u=o.tasks[e.todolistID],l=u.find((function(t){return t.id===e.taskID}))){t.next=9;break}return s(D.setAppError({error:"Task not found in state!"})),t.abrupt("return",i(null));case 9:return d=Object(Z.a)({deadline:l.deadline,description:l.description,priority:l.priority,startDate:l.startDate,status:l.status,title:l.title},e.changesForApiModel),t.next=12,G(e.todolistID,e.taskID,d);case 12:if((p=t.sent).data.resultCode!==n.OK){t.next=18;break}return s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",e);case 18:return a.handleServerAppError(s,p.data),t.abrupt("return",i(null));case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 26:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(e,r){return t.apply(this,arguments)}}()),pt=F("TASK/removeTask",function(){var t=Object(v.a)(g.a.mark((function t(e,r){var s,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.dispatch,i=r.rejectWithValue,t.prev=1,s(ht.changeTaskItemStatus({todolistID:e.todolistID,taskID:e.taskID,taskItemStatus:"loading"})),s(D.setAppStatus({status:"loading"})),t.next=6,q(e);case 6:if((c=t.sent).data.resultCode!==n.OK){t.next=12;break}return s(D.setAppStatus({status:"succeeded"})),t.abrupt("return",e);case 12:return a.handleServerAppError(s,c.data),t.abrupt("return",i(null));case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(1),a.handleServerNetworkError(s,t.t0),t.abrupt("return",i(null));case 20:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,r){return t.apply(this,arguments)}}()),ft={},bt=Object(k.c)({name:"TASK",initialState:ft,reducers:{changeTaskItemStatus:function(t,e){t[e.payload.todolistID].find((function(t){return t.id===e.payload.taskID?Object(Z.a)(Object(Z.a)({},t),{},{taskItemStatus:e.payload.taskItemStatus}):t}))}},extraReducers:function(t){t.addCase(ut.fulfilled,(function(t,e){t[e.payload.todolistID]=e.payload.tasks.map((function(t){return Object(Z.a)(Object(Z.a)({},t),{},{taskItemStatus:"idle"})}))})).addCase(lt.fulfilled,(function(t,e){t[e.payload.task.todoListId].unshift(Object(Z.a)(Object(Z.a)({},e.payload.task),{},{taskItemStatus:"idle"}))})).addCase(dt.fulfilled,(function(t,e){var r=t[e.payload.todolistID],a=r.findIndex((function(t){return t.id===e.payload.taskID}));a>-1&&(r[a]=Object(Z.a)(Object(Z.a)({},r[a]),e.payload.changesForApiModel))})).addCase(pt.fulfilled,(function(t,e){var r=t[e.payload.todolistID].findIndex((function(t){return t.id===e.payload.taskID}));r>-1&&t[e.payload.todolistID].splice(r,1)})).addCase(ot.createTodolist.fulfilled,(function(t,e){t[e.payload.todolist.id]=[]})).addCase(ot.removeTodolist.fulfilled,(function(t,e){delete t[e.payload.id]})).addCase(ot.fetchTodolists.fulfilled,(function(t,e){e.payload.todolists.forEach((function(e){var r=e.id;t[r]=[]}))})).addCase(H.clearStateData,(function(){return ft}))}}),jt=bt.reducer,ht=bt.actions,Ot={fetchTasks:ut,addTask:lt,updateTask:dt,removeTask:pt},xt=r(49),vt=r(31),mt=r(62),gt=Object(vt.c)({todolists:it,tasks:jt,app:E,login:U}),kt=Object(k.a)({reducer:gt,middleware:function(t){return t().prepend([mt.a])}}),yt=xt.c,St=xt.b;window.store=kt;var It=function(t){var e=St();return Object(s.useMemo)((function(){return Object(vt.b)(t,e)}),[t,e])},wt=r(14),Ct=(r(154),r(199)),At=r(208),Tt=r(210),Et=function(t){return t.app.status},Dt=function(t){return t.app.error},Rt=function(t){return t.app.isInitialized},Lt=r(2),Kt=s.forwardRef((function(t,e){return Object(Lt.jsx)(At.a,Object(Z.a)({elevation:6,ref:e,variant:"filled"},t))}));function Nt(){var t=Object(xt.b)(),e=yt(Dt),r=null!==e,a=function(e,r){"clickaway"!==r&&t(D.setAppError({error:null}))};return Object(Lt.jsx)(Tt.a,{open:r,autoHideDuration:1e4,onClose:a,children:Object(Lt.jsx)(Ct.a,{direction:"down",children:Object(Lt.jsx)(Kt,{onClose:a,severity:"error",sx:{width:"100%"},children:e})})})}var Ft=r(213),Wt=r(217),Mt=r(201),zt=r(218),Vt=r(206),Pt=r(219),Ut=r(209),Ht=r(111),Bt=function(t){return t.login.isLoggedIn},Zt=function(){var t=St(),e=Object(wt.g)(),r=yt(Bt),a=Object(Ht.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="\ud83d\ude0e Invalid email address"):e.email="\ud83d\ude0e E-mail required!",t.password?(t.password.length>10||t.password.length<4)&&(e.password="\ud83d\ude0e must be more than 4 characters but less than 10"):e.password="\ud83d\ude0e Enter your password!",e},onSubmit:function(e,r){t(B.login(e)).unwrap().catch((function(t){var e=t.fieldsErrors;e&&e.map((function(t){var e=t.field,a=t.error;return r.setFieldError(e,a)}))}))}});return Object(s.useEffect)((function(){r&&e("/")}),[r,e]),Object(Lt.jsx)(Ft.a,{container:!0,justifyContent:"center",children:Object(Lt.jsx)(Ft.a,{item:!0,justifyContent:"center",children:Object(Lt.jsx)("form",{onSubmit:a.handleSubmit,children:Object(Lt.jsxs)(Wt.a,{children:[Object(Lt.jsxs)(Mt.a,{children:[Object(Lt.jsxs)("p",{children:["To log in get registered",Object(Lt.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",rel:"noreferrer",children:" here"})]}),Object(Lt.jsx)("p",{children:"or use common test account credentials:"}),Object(Lt.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(Lt.jsx)("p",{children:"Password: free"})]}),Object(Lt.jsxs)(zt.a,{children:[Object(Lt.jsx)(Vt.a,Object(Z.a)({label:"Email",margin:"normal"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(Lt.jsx)("div",{style:{color:"fuchsia"},children:a.errors.email}),Object(Lt.jsx)(Vt.a,Object(Z.a)({type:"password",label:"Password",margin:"normal"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&Object(Lt.jsx)("div",{style:{color:"fuchsia"},children:a.errors.password}),Object(Lt.jsx)(Pt.a,{label:"Remember me",control:Object(Lt.jsx)(Ut.a,Object(Z.a)(Object(Z.a)({},a.getFieldProps("rememberMe")),{},{checked:a.values.rememberMe}))}),Object(Lt.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",disabled:!!Object.keys(a.errors).length,children:"Login"})]})]})})})})},Jt=function(){return Object(Lt.jsxs)("article",{children:[Object(Lt.jsx)("h1",{children:"ERROR 404"}),Object(Lt.jsx)("h4",{style:{textAlign:"justify"},children:"\u041e\u0448\u0438\u0431\u043a\u0430 404 \u0438\u043b\u0438 Not Found (\xab\u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e\xbb) \u2014 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043a\u043e\u0434 \u043e\u0442\u0432\u0435\u0442\u0430 HTTP \u043e \u0442\u043e\u043c, \u0447\u0442\u043e \u043a\u043b\u0438\u0435\u043d\u0442 \u0431\u044b\u043b \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c, \u043d\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0439\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443. \u041e\u0448\u0438\u0431\u043a\u0443 404 \u043d\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0443\u0442\u0430\u0442\u044c \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \xab\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\xbb \u0438\u043b\u0438 \u0438\u043d\u044b\u043c\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0438\u043c\u0438 \u043d\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u041e\u0448\u0438\u0431\u043a\u0430 404 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0440\u0435\u0441\u0443\u0440\u0441 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c, \u0447\u0442\u043e \u043e\u0434\u043d\u0430\u043a\u043e \u043d\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u0435\u0436\u043d\u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0447\u0430\u0441\u0442\u043e \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 404 \u043f\u0440\u0438 \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0438 \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0445 \xab\u0431\u0438\u0442\u044b\u0445\xbb \u0438\u043b\u0438 \xab\u043c\u0451\u0440\u0442\u0432\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a\xbb, \u0447\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u043e\u0448\u0438\u0431\u043a\u0443 404 \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0443\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 \u0441\u0435\u0442\u0438 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442"})]})},_t=r(215),qt=r(13),Gt=r(203),Yt=r(50),$t=i.a.memo((function(t){var e=Object(s.useState)(""),r=Object(qt.a)(e,2),a=r[0],n=r[1],i=Object(s.useState)(!1),c=Object(qt.a)(i,2),o=c[0],u=c[1],l=function(){a.trim()?t.addItem(a.trim()):u(!0),n("")};return Object(Lt.jsxs)("div",{style:{textAlign:"center"},children:[Object(Lt.jsx)(Vt.a,{disabled:t.disabled,variant:"outlined",size:"small",label:"enter item title",helperText:o&&"Error! Typing is expected",value:a,onChange:function(t){n(t.currentTarget.value),u(!1)},onKeyUp:function(t){"Enter"===t.key&&l()},error:o}),Object(Lt.jsx)(b.a,{disabled:t.disabled,onClick:l,sx:{color:Yt.a[500]},children:Object(Lt.jsx)(Gt.a,{})})]})})),Qt=function(t){var e=t.tasks;return e},Xt=function(t){var e=t.todolists;return e},te=r(204),ee=r(222),re=i.a.memo((function(t){var e=t.title,r=t.changeTitle,a=t.disabled,n=Object(s.useState)(e),i=Object(qt.a)(n,2),c=i[0],o=i[1],u=Object(s.useState)(!1),l=Object(qt.a)(u,2),d=l[0],p=l[1],f=function(){return p(!0)},b=function(){r(c),p(!1)};return a?Object(Lt.jsx)("span",{onDoubleClick:f,children:e}):d?Object(Lt.jsx)(Vt.a,{value:c,autoFocus:!0,onBlur:b,onChange:function(t){return o(t.currentTarget.value)},onKeyUp:function(t){"Enter"===t.key&&b()}}):Object(Lt.jsx)("span",{onDoubleClick:f,children:e})})),ae=r(211),ne=Object(s.memo)((function(t){var e=t.todolistID,r=t.taskID,a=yt((function(t){return t.tasks[e].filter((function(t){return t.id===r}))[0]})),n=It(Ot),i=n.removeTask,c=n.updateTask,o=Object(s.useCallback)((function(t){var a=t.currentTarget.checked?R.Completed:R.New;c({todolistID:e,taskID:r,changesForApiModel:{status:a}})}),[c,e,r]),u=Object(s.useCallback)((function(t){c({todolistID:e,taskID:r,changesForApiModel:{title:t}})}),[c,e,r]),l=Object(s.useCallback)((function(){i({todolistID:e,taskID:r})}),[i,e,r]);return Object(Lt.jsxs)(ae.a,{className:a.status===R.Completed?"is-done":"",divider:!0,disableGutters:!0,style:{display:"flex",justifyContent:"space-between",flexDirection:"row",textAlign:"left"},children:[Object(Lt.jsxs)("div",{style:{fontWeight:"bold"},children:[Object(Lt.jsx)(Ut.a,{disabled:"loading"===a.taskItemStatus,size:"small",color:"primary",onChange:o,checked:a.status===R.Completed,style:{marginRight:"15px"}}),a.status===R.Completed?Object(Lt.jsx)("span",{children:a.title}):Object(Lt.jsx)(re,{disabled:"loading"===a.taskItemStatus,title:a.title,changeTitle:u})]}),Object(Lt.jsx)(b.a,{onClick:l,disabled:"loading"===a.taskItemStatus,children:Object(Lt.jsx)(te.a,{})})]},r)})),se=i.a.memo((function(t){var e=t.todolist,r=t.tasks,a=It(Ot).addTask,n=It(ot),i=n.updateTodolistTitle,c=n.removeTodolist,o=It(ct).changeTodolistFilter,u=Object(s.useMemo)((function(){return function(t,e){switch(t){case"completed":return e.filter((function(t){return t.status===R.Completed}));case"active":return e.filter((function(t){return t.status!==R.Completed}));default:return e}}(e.filter,r).map((function(t){return Object(Lt.jsx)(ne,{todolistID:t.todoListId,taskID:t.id},t.id)}))}),[r,e.filter]),l=Object(s.useCallback)((function(t){return a({todolistId:e.id,title:t})}),[a,e.id]),d=Object(s.useCallback)((function(t){return i({id:e.id,title:t})}),[i,e.id]),p=Object(s.useCallback)((function(){return c(e.id)}),[c,e.id]),f=function(t){return function(){return o({id:e.id,filter:t})}};return Object(Lt.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",wordBreak:"break-all",alignItems:"center"},children:[Object(Lt.jsxs)(j.a,{variant:"h5",align:"center",style:{fontWeight:"bold"},children:[Object(Lt.jsx)(re,{title:e.title,changeTitle:d,disabled:"loading"===e.entityStatus}),Object(Lt.jsx)(b.a,{onClick:p,disabled:"loading"===e.entityStatus,children:Object(Lt.jsx)(te.a,{})})]}),Object(Lt.jsx)($t,{addItem:l,disabled:"loading"===e.entityStatus}),Object(Lt.jsx)("ul",{children:u}),Object(Lt.jsx)("div",{children:Object(Lt.jsxs)(ee.a,{variant:"contained",size:"small",children:[Object(Lt.jsx)(h.a,{color:"all"===e.filter?"secondary":"primary",onClick:f("all"),children:"All"}),Object(Lt.jsx)(h.a,{color:"active"===e.filter?"secondary":"primary",onClick:f("active"),children:"Active"}),Object(Lt.jsx)(h.a,{color:"completed"===e.filter?"secondary":"primary",onClick:f("completed"),children:"Completed"})]})})]})})),ie=function(){var t=It(ot),e=t.createTodolist,r=t.fetchTodolists,a=Object(wt.g)(),n=yt(Bt),i=yt(Xt),c=yt(Qt),o=Object(s.useCallback)((function(t){return e(t)}),[e]),u=Object(s.useMemo)((function(){return i.map((function(t){return Object(Lt.jsx)(Ft.a,{item:!0,children:Object(Lt.jsx)(_t.a,{elevation:20,style:{padding:"15px",minWidth:"300px",maxWidth:"300px",minHeight:"100px"},children:Object(Lt.jsx)(se,{todolist:t,tasks:c[t.id]},t.id)})},t.id)}))}),[i,c]);return Object(s.useEffect)((function(){n?r():a("/login")}),[n,r,a]),Object(Lt.jsxs)(Lt.Fragment,{children:[Object(Lt.jsx)(Ft.a,{container:!0,justifyContent:"center",style:{padding:"15px"},children:Object(Lt.jsx)(Ft.a,{item:!0,children:Object(Lt.jsx)($t,{addItem:o,disabled:!1})})}),Object(Lt.jsx)(Ft.a,{container:!0,spacing:5,justifyContent:"center",children:u})]})};var ce=function(){var t=It(B),e=t.initializeApp,r=t.logout,a=yt(Et),n=yt(Bt),i=yt(Rt);return Object(s.useEffect)((function(){e()}),[e]),i?Object(Lt.jsxs)("div",{className:"App",children:[Object(Lt.jsx)(Nt,{}),Object(Lt.jsx)(p.a,{position:"static",children:Object(Lt.jsxs)(f.a,{style:{justifyContent:"space-between"},children:[Object(Lt.jsx)(b.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(Lt.jsx)(l.a,{})}),Object(Lt.jsx)(j.a,{variant:"h6",children:"Todolists"}),n&&Object(Lt.jsx)(h.a,{onClick:function(){return r()},color:"inherit",variant:"outlined",children:"Logout"})]})}),"loading"===a&&Object(Lt.jsx)(x.a,{color:"secondary"}),Object(Lt.jsx)(O.a,{fixed:!0,children:Object(Lt.jsxs)(wt.d,{children:[Object(Lt.jsx)(wt.b,{path:"/",element:Object(Lt.jsx)(ie,{})}),Object(Lt.jsx)(wt.b,{path:"/login",element:Object(Lt.jsx)(Zt,{})}),Object(Lt.jsx)(wt.b,{path:"/404",element:Object(Lt.jsx)(Jt,{})}),Object(Lt.jsx)(wt.b,{path:"*",element:Object(Lt.jsx)(wt.a,{to:"/404"})})]})})]}):Object(Lt.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(Lt.jsx)(d.a,{})})},oe=r(59);o.a.render(Object(Lt.jsx)(oe.a,{children:Object(Lt.jsx)(xt.a,{store:kt,children:Object(Lt.jsx)(ce,{})})}),document.getElementById("root")),u()}},[[156,1,2]]]);
//# sourceMappingURL=main.9fd06c72.chunk.js.map